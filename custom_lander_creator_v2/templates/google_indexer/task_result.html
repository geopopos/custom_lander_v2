{% extends "google_indexer/google_indexer_base.html" %}

{% block title %}
  Task Result
{% endblock title %}
{% block inner_content %}
  <div class="container">
    <h1>Task Result</h1>
    <div class="mb-3">
      <label for="indexed_links" class="form-label">Indexed Links</label>
      <textarea id="indexed_links" class="form-control" rows="10" readonly>{{ indexed_links }}</textarea>
      <button class="btn btn-primary mt-2"
              onclick="copyToClipboard('indexed_links')">Copy Indexed Links</button>
    </div>
    <div class="mb-3">
      <label for="unindexed_links" class="form-label">Unindexed Links</label>
      <textarea id="unindexed_links" class="form-control" rows="10" readonly>{{ unindexed_links }}</textarea>
      <button class="btn btn-primary mt-2"
              onclick="copyToClipboard('unindexed_links')">Copy Unindexed Links</button>
    </div>
    <a href="{% url 'google_indexer:task_list' %}" class="btn btn-secondary">Back to Tasks</a>
  </div>
  <script>
    function copyToClipboard(elementId) {
      var copyText = document.getElementById(elementId);
      copyText.select();
      copyText.setSelectionRange(0, 99999); /* For mobile devices */
      document.execCommand("copy");

      // Optionally, you can show a message that the text has been copied
      alert("Copied the text: " + copyText.value);
    }
  </script>
{% endblock inner_content %}
